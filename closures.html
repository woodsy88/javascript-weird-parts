<script>

function greet(whattosay) {
  return function(name){
    console.log(whattosay + ' ' + name);
  }
}

//invoking a nested function
greet('hi')('tony');

// sayHi creates a closure of its variables
var sayHi = greet('hi');
sayHi('andrew')


//---------------------------


function buildFunctions(){
  
  var arr = []

  for (var i = 0; i < 3; i++) {
    arr.push(
      function(){
        console.log(i);
        
      }
    )
  }

  return arr;
}

var fs = buildFunctions();

fs[0]();
fs[1]();
fs[2]();
// 3, 3, 3


function buildFunctions2(){

  var arr = [];

  for(var i = 0; i < 3; i++){
    arr.push(
      (function(j){
        console.log(j);
        
      }(i))

    )
  }
  return arr;

}

var fs2 = buildFunctions2();

fs2[0]();
fs2[1]();
fs2[2]();


</script>